import{d as V,s as k,h as A,z as c,C as L,c as F,w as s,H as C,r as u,o as D,a as n,A as g,l as N,b as S}from"./index.c5b6a3a3.js";import{u as B,p as U}from"./rules.8fc350db.js";import{u as $,L as K,a,M as R,n as T,N as M}from"./Basic.86cf6774.js";const q=S("h3",null,"\u0110\u0103ng nh\u1EADp",-1),I=V({__name:"View",setup(z){const w=$(),{login:p}=k(w),f=C(),r=A(),t=c({username:"",password:""}),x=c({username:B,password:U});function m(e){!e||e.validate(o=>{if(o)E();else return a("\u0110\u0103ng nh\u1EADp kh\xF4ng th\xE0nh c\xF4ng!"),!1})}const d=()=>{p.value&&(window.history.length>2?f.back():f.push({name:"home"}))};L(p,d),d();const E=()=>{R(t.username,t.password).then(({data:e})=>{e.status&&Number(e.status)?(e.msg&&T(String(e.msg)),M()):e.msg?a(String(e.msg)):a("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra")}).catch(e=>{a("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(e)})};return(e,o)=>{const h=u("el-row"),_=u("el-input"),i=u("el-form-item"),y=u("el-button"),b=u("el-form"),v=u("el-card");return D(),F(K,null,{default:s(()=>[n(v,null,{default:s(()=>[n(h,null,{default:s(()=>[q]),_:1}),n(b,{ref_key:"formRefLogin",ref:r,"label-width":"auto","label-position":"top",model:t,rules:x},{default:s(()=>[n(i,{label:"T\xE0i kho\u1EA3n",prop:"username"},{default:s(()=>[n(_,{modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=l=>t.username=l),onKeyup:o[1]||(o[1]=g(l=>m(r.value),["enter"]))},null,8,["modelValue"])]),_:1}),n(i,{label:"M\u1EADt kh\u1EA9u",prop:"password"},{default:s(()=>[n(_,{modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=l=>t.password=l),type:"password",autocomplete:"off",onKeyup:o[3]||(o[3]=g(l=>m(r.value),["enter"]))},null,8,["modelValue"])]),_:1}),n(i,null,{default:s(()=>[n(y,{type:"primary",onClick:o[4]||(o[4]=l=>m(r.value))},{default:s(()=>[N("\u0110\u0103ng nh\u1EADp")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}});export{I as default};
