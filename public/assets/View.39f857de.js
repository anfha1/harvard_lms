import{_ as $,c as B,n as F,a as x,L as V}from"./Basic.47be8002.js";import{d as v,t as C,r,o as a,c as i,w as c,a as m,u as _,b as k,e as f,f as D,p as G,g as A,F as w,h as S,i as E,j as I}from"./index.88e66ee3.js";const g=p=>(G("data-v-d7df96dc"),p=p(),A(),p),T=["src"],j={style:{padding:"14px"}},L={style:{margin:"0",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},H={class:"bottom"},R=g(()=>f("span",{class:"ml-1"},"Gi\xE1o \xE1n",-1)),U=g(()=>f("span",{class:"ml-1",disabled:""},"Gi\xE1o \xE1n",-1)),q=g(()=>f("span",{class:"ml-1"},"Gi\xE1o \xE1n \u0111i\u1EC7n t\u1EED",-1)),z=g(()=>f("span",{class:"ml-1",disabled:""},"Gi\xE1o \xE1n \u0111i\u1EC7n t\u1EED",-1)),J=v({__name:"Session",props:{session:null},setup(p){const d=p,{session:t}=C(d);function u(n){location.href=n}return(n,o)=>{const l=r("el-empty"),e=r("font-awesome-icon"),s=r("el-button"),y=r("router-link"),h=r("el-card"),N=r("el-col");return a(),i(N,{span:24,sm:12,md:8,lg:6,style:{"margin-top":"20px"}},{default:c(()=>[m(h,{"body-style":{padding:"0px"}},{default:c(()=>[_(t).photo?(a(),k("img",{key:0,src:_(t).photo,class:"image"},null,8,T)):(a(),i(l,{key:1})),f("div",j,[f("h4",L,D(_(t).name),1),f("div",H,[!_(t).lock&&_(t).doc_type?(a(),i(s,{key:0,type:"primary",onClick:o[0]||(o[0]=b=>u(_(t).doc_link))},{default:c(()=>[m(e,{icon:["fas","file-pdf"]}),R]),_:1})):(a(),i(s,{key:1,type:"warning"},{default:c(()=>[m(e,{icon:["fas","lock"]}),U]),_:1})),!_(t).lock&&_(t).ppt_type?(a(),i(y,{key:2,to:{name:"ppt",params:_(t).ppt_link},custom:""},{default:c(({navigate:b})=>[m(s,{onClick:b,type:"primary"},{default:c(()=>[m(e,{icon:["fas","file-powerpoint"]}),q]),_:2},1032,["onClick"])]),_:1},8,["to"])):(a(),i(s,{key:3,type:"warning"},{default:c(()=>[m(e,{icon:["fas","lock"]}),z]),_:1}))])])]),_:1})]),_:1})}}});const K=$(J,[["__scopeId","data-v-d7df96dc"]]),M={key:1},O=v({__name:"Course",props:{course:null},setup(p){const d=p,{course:t}=C(d);return(u,n)=>{const o=r("el-row"),l=r("el-tab-pane");return a(),i(l,{label:_(t).name,name:_(t).id},{default:c(()=>[_(t).sessions.length>0?(a(),i(o,{key:0,gutter:20},{default:c(()=>[(a(!0),k(w,null,S(_(t).sessions,e=>(a(),i(K,{key:e.id,session:e},null,8,["session"]))),128))]),_:1})):(a(),k("div",M," S\u1EAFp ra m\u1EAFt "))]),_:1},8,["label","name"])}}}),P={key:0},Q=f("h3",null,"Gi\xE1o tr\xECnh",-1),W={key:1},X=v({__name:"Courses",setup(p){const d=E(""),t=E(!1),u=E([]);return t.value=!0,B().then(({data:n})=>{n.status&&Number(n.status)?(n.msg&&F(String(n.msg)),u.value=[],n.courses&&typeof n.courses=="object"&&n.courses.length>0&&(n.courses.map(o=>{var l={id:0,name:"",status:1,photo:"",sessions:[]};o.id&&(l.id=Number(o.id)),o.name&&(l.name=String(o.name)),o.photo&&(l.photo=String(o.photo)),o.sessions&&typeof o.sessions=="object"&&o.sessions.length>0&&o.sessions.map(e=>{var s={id:0,name:"",status:1,photo:"",lock:1,ppt_type:0,ppt_link:"",ppt_info:{name:"",status:0},doc_type:0,doc_link:"",doc_info:{name:"",status:0}};e.id&&(s.id=Number(e.id)),e.name&&(s.name=String(e.name)),e.photo&&(s.photo=String(e.photo)),e.lock?s.lock=Number(e.lock):s.lock=0,e.ppt_type&&(s.ppt_type=Number(e.ppt_type)),e.ppt_link&&(s.ppt_link=e.ppt_link),e.doc_type&&(s.doc_type=Number(e.doc_type)),e.doc_link&&(s.doc_link=e.doc_link),l.sessions.push(s)}),l.sessions=l.sessions.sort((e,s)=>{var y=e.name.match(/^Tiết (\d+)/);y?y=y[1]:y=0;var h=s.name.match(/^Tiết (\d+)/);return h?h=h[1]:h=0,y-h}),u.value.push(l)}),u.value[0]&&(d.value=u.value[0].id))):n.msg?x(String(n.msg)):x("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra"),t.value=!1}).catch(n=>{t.value=!1,x("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(n)}),(n,o)=>{const l=r("el-tabs");return u.value.length>0?(a(),k("div",P,[Q,m(l,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),class:"demo-tabs"},{default:c(()=>[(a(!0),k(w,null,S(u.value,e=>(a(),i(O,{key:e.id,course:e},null,8,["course"]))),128))]),_:1},8,["modelValue"])])):t.value?(a(),k("div",W," \u0110ang ki\u1EC3m tra kh\xF3a h\u1ECDc ")):I("",!0)}}}),ee=v({__name:"View",setup(p){return(d,t)=>(a(),i(V,null,{default:c(()=>[m(X,{class:"mt-2"})]),_:1}))}});export{ee as default};
