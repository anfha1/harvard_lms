import{f as j,n as P,a as C,L as J,r as N,_ as O}from"./Basic.c8b4db5e.js";import{d as K,r as E,k as T,g as h,w as i,a as c,o as a,b as _,c as d,u as g,F as S,e as V,f as L,h as p,i as w,p as U,j as $}from"./index.79042f39.js";const q=v=>(U("data-v-c8b8e1ec"),v=v(),$(),v),z={key:0},G=q(()=>p("div",{class:"name-card",style:{width:"270px"}},"T\u01B0 v\u1EA5n h\u1ECDc \u0111\u01B0\u1EDDng",-1)),H=["src"],M={class:"mt-2"},Q={class:"blog_name"},R={class:"mt-2"},W={class:"blog_description"},X={key:1},Y={key:1},Z=K({__name:"Page",setup(v){const f=E(0),y=E(!1),m=E([]),k=E(""),b=T(()=>{let e=JSON.parse(JSON.stringify(m.value));if(k.value){let o=N(k.value).toLowerCase();e=e.map(t=>(t.sessions=t.sessions.filter(s=>N(s.name).toLowerCase().includes(o)),t)),e=e.filter(t=>t.sessions.length>0)}return e.length>0&&(f.value=e[0].id),e}),x=T(()=>b.value.find(e=>e.id===f.value));return y.value=!0,j().then(({data:e})=>{e.status&&Number(e.status)?(e.msg&&P(String(e.msg)),m.value=[],e.courses&&typeof e.courses=="object"&&e.courses.length>0&&(e.courses.map(o=>{var t={id:0,name:"",status:1,photo:"",slug:"",sessions:[]};o.id&&(t.id=Number(o.id)),o.name&&(t.name=String(o.name)),o.slug&&(t.slug=String(o.slug)),o.photo&&(t.photo=String(o.photo)),o.sessions&&typeof o.sessions=="object"&&o.sessions.length>0&&o.sessions.map(s=>{var l={id:0,name:"",status:1,photo:"",slug:"",description:"",action:{}};s.id&&(l.id=Number(s.id)),s.name&&(l.name=String(s.name)),s.photo&&(l.photo=String(s.photo)),s.lock?l.lock=Number(s.lock):l.lock=0,s.slug&&(l.slug=String(s.slug)),s.description&&(l.description=String(s.description)),l.action={course_id:t.id,course_slug:t.slug,session_id:l.id,session_slug:l.slug},t.sessions.push(l)}),t.sessions=t.sessions.sort((s,l)=>{var r=s.name.match(/^Tiết (\d+)/);r?r=r[1]:r=0;var u=l.name.match(/^Tiết (\d+)/);return u?u=u[1]:u=0,r-u}),m.value.push(t)}),m.value[0]&&(f.value=m.value[0].id))):e.msg?C(String(e.msg)):C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra"),y.value=!1}).catch(e=>{y.value=!1,C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(e)}),(e,o)=>{const t=c("el-input"),s=c("el-button"),l=c("el-space"),r=c("el-empty"),u=c("el-card"),A=c("router-link"),F=c("el-col"),B=c("el-row");return a(),h(J,null,{default:i(()=>[_(B,{class:"mt-4",style:{position:"relative"}},{default:i(()=>[_(F,{span:24},{default:i(()=>[m.value.length>0?(a(),d("div",z,[_(u,null,{default:i(()=>[G,_(t,{modelValue:k.value,"onUpdate:modelValue":o[0]||(o[0]=n=>k.value=n),class:"mt-2",placeholder:"T\xECm ki\u1EBFm b\xE0i h\u1ECDc"},null,8,["modelValue"]),g(b).length>0?(a(),d(S,{key:0},[_(l,{class:"mt-2",wrap:""},{default:i(()=>[(a(!0),d(S,null,V(g(b),n=>(a(),h(s,{key:n.id,type:f.value===n.id?"warning":"",onClick:D=>f.value=n.id},{default:i(()=>[p("b",null,w(n.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),g(x).sessions.length>0?(a(),h(B,{key:0,gutter:20},{default:i(()=>[(a(!0),d(S,null,V(g(x).sessions,(n,D)=>(a(),h(F,{key:D,span:24,sm:12,md:8,lg:6,xl:4,style:{"margin-top":"20px"}},{default:i(()=>[_(A,{to:{name:"advise.view",params:{course_slug:g(x).slug,course_id:g(x).id,session_slug:n.slug,session_id:n.id}},custom:""},{default:i(({navigate:I})=>[_(u,{shadow:"always",style:{cursor:"pointer"},onClick:I},{default:i(()=>[p("div",null,[n.photo?(a(),d("img",{key:0,src:n.photo,class:"image"},null,8,H)):(a(),h(r,{key:1}))]),p("div",M,[p("b",Q,w(n.name),1)]),p("div",R,[p("p",W,w(n.description),1)])]),_:2},1032,["onClick"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):L("",!0)],64)):(a(),d("p",X,"Kh\xF4ng c\xF3 ti\u1EBFt h\u1ECDc n\xE0o ph\xF9 h\u1EE3p"))]),_:1})])):y.value?(a(),d("div",Y," \u0110ang ki\u1EC3m tra kh\xF3a h\u1ECDc ")):L("",!0)]),_:1})]),_:1})]),_:1})}}});const se=O(Z,[["__scopeId","data-v-c8b8e1ec"]]);export{se as default};
