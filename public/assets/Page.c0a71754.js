import{e as j,n as P,a as C,L as J,r as D,_ as O}from"./Basic.8e872dd8.js";import{d as H,r as x,k as N,g as m,w as i,a as c,o as a,b as g,f as V,c as p,u as h,F as S,e as L,h as d,i as w,p as K,j as U}from"./index.20f341ed.js";const $=E=>(K("data-v-37b8b5aa"),E=E(),U(),E),q=$(()=>d("div",{class:"name-card",style:{width:"270px"}},"Ho\u1EA1t \u0111\u1ED9ng tr\u1EA3i nghi\u1EC7m",-1)),z={key:1},G={key:2},M=["src"],Q={class:"mt-2"},R={class:"blog_name"},W={class:"mt-2"},X={class:"blog_description"},Y={key:4},Z=H({__name:"Page",setup(E){const f=x(0),v=x(!1),r=x([]),y=x(""),b=N(()=>{let e=JSON.parse(JSON.stringify(r.value));if(y.value){let o=D(y.value).toLowerCase();e=e.map(t=>(t.sessions=t.sessions.filter(s=>D(s.name).toLowerCase().includes(o)),t)),e=e.filter(t=>t.sessions.length>0)}return e.length>0&&(f.value=e[0].id),e}),k=N(()=>b.value.find(e=>e.id===f.value));return v.value=!0,j().then(({data:e})=>{e.status&&Number(e.status)?(e.msg&&P(String(e.msg)),r.value=[],e.courses&&typeof e.courses=="object"&&e.courses.length>0&&(e.courses.map(o=>{var t={id:0,name:"",status:1,photo:"",slug:"",sessions:[]};o.id&&(t.id=Number(o.id)),o.name&&(t.name=String(o.name)),o.slug&&(t.slug=String(o.slug)),o.photo&&(t.photo=String(o.photo)),o.sessions&&typeof o.sessions=="object"&&o.sessions.length>0&&o.sessions.map(s=>{var n={id:0,name:"",status:1,photo:"",slug:"",description:"",action:{}};s.id&&(n.id=Number(s.id)),s.name&&(n.name=String(s.name)),s.photo&&(n.photo=String(s.photo)),s.lock?n.lock=Number(s.lock):n.lock=0,s.slug&&(n.slug=String(s.slug)),s.description&&(n.description=String(s.description)),n.action={course_id:t.id,course_slug:t.slug,session_id:n.id,session_slug:n.slug},t.sessions.push(n)}),t.sessions=t.sessions.sort((s,n)=>{var _=s.name.match(/^Tiết (\d+)/);_?_=_[1]:_=0;var u=n.name.match(/^Tiết (\d+)/);return u?u=u[1]:u=0,_-u}),r.value.push(t)}),r.value[0]&&(f.value=r.value[0].id))):e.msg?C(String(e.msg)):C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra"),v.value=!1}).catch(e=>{v.value=!1,C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(e)}),(e,o)=>{const t=c("el-input"),s=c("el-button"),n=c("el-space"),_=c("el-empty"),u=c("el-card"),T=c("router-link"),F=c("el-col"),A=c("el-row");return a(),m(J,null,{default:i(()=>[g(A,{class:"mt-4",style:{position:"relative"}},{default:i(()=>[g(F,{span:24},{default:i(()=>[g(u,null,{default:i(()=>[q,!v.value&&r.value.length>0?(a(),m(t,{key:0,modelValue:y.value,"onUpdate:modelValue":o[0]||(o[0]=l=>y.value=l),class:"mt-2",placeholder:"T\xECm ki\u1EBFm b\xE0i h\u1ECDc"},null,8,["modelValue"])):V("",!0),v.value?(a(),p("div",z," \u0110ang ki\u1EC3m tra ho\u1EA1t \u0111\u1ED9ng ")):r.value.length<1?(a(),p("div",G," Ch\u01B0a c\xF3 ho\u1EA1t \u0111\u1ED9ng n\xE0o \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t cho b\u1EA1n ")):h(b).length>0?(a(),p(S,{key:3},[g(n,{class:"mt-2",wrap:""},{default:i(()=>[(a(!0),p(S,null,L(h(b),l=>(a(),m(s,{key:l.id,type:f.value===l.id?"warning":"",onClick:B=>f.value=l.id},{default:i(()=>[d("b",null,w(l.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),h(k).sessions.length>0?(a(),m(A,{key:0,gutter:20},{default:i(()=>[(a(!0),p(S,null,L(h(k).sessions,(l,B)=>(a(),m(F,{key:B,span:24,sm:12,md:8,lg:6,xl:4,style:{"margin-top":"20px"}},{default:i(()=>[g(T,{to:{name:"action.view",params:{course_slug:h(k).slug,course_id:h(k).id,session_slug:l.slug,session_id:l.id}},custom:""},{default:i(({navigate:I})=>[g(u,{shadow:"always",style:{cursor:"pointer"},onClick:I},{default:i(()=>[d("div",null,[l.photo?(a(),p("img",{key:0,src:l.photo,class:"image"},null,8,M)):(a(),m(_,{key:1}))]),d("div",Q,[d("b",R,w(l.name),1)]),d("div",W,[d("p",X,w(l.description),1)])]),_:2},1032,["onClick"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):V("",!0)],64)):(a(),p("p",Y,"Kh\xF4ng c\xF3 ti\u1EBFt h\u1ECDc n\xE0o ph\xF9 h\u1EE3p"))]),_:1})]),_:1})]),_:1})]),_:1})}}});const se=O(Z,[["__scopeId","data-v-37b8b5aa"]]);export{se as default};
