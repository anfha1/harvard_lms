import{L as j,_ as P}from"./Basic.4833220b.js";import{d as J,r as x,m as N,y as O,n as K,a as C,i as m,w as i,c,o as a,f as g,h as A,e as d,u as f,F as S,g as T,s as V,j as p,k as w,p as U,l as $}from"./index.a6d75772.js";const q=E=>(U("data-v-bda9305c"),E=E(),$(),E),z=q(()=>p("div",{class:"name-card",style:{width:"270px"}},"T\u01B0 v\u1EA5n h\u1ECDc \u0111\u01B0\u1EDDng",-1)),G={key:1},H={key:2},M=["src"],Q={class:"mt-2"},R={class:"blog_name"},W={class:"mt-2"},X={class:"blog_description"},Y={key:4},Z=J({__name:"Page",setup(E){const h=x(0),v=x(!1),r=x([]),y=x(""),b=N(()=>{let e=JSON.parse(JSON.stringify(r.value));if(y.value){let o=V(y.value).toLowerCase();e=e.map(t=>(t.sessions=t.sessions.filter(s=>V(s.name).toLowerCase().includes(o)),t)),e=e.filter(t=>t.sessions.length>0)}return e.length>0&&(h.value=e[0].id),e}),k=N(()=>b.value.find(e=>e.id===h.value));return v.value=!0,O().then(({data:e})=>{e.status&&Number(e.status)?(e.msg&&K(String(e.msg)),r.value=[],e.courses&&typeof e.courses=="object"&&e.courses.length>0&&(e.courses.map(o=>{var t={id:0,name:"",status:1,photo:"",slug:"",sessions:[]};o.id&&(t.id=Number(o.id)),o.name&&(t.name=String(o.name)),o.slug&&(t.slug=String(o.slug)),o.photo&&(t.photo=String(o.photo)),o.sessions&&typeof o.sessions=="object"&&o.sessions.length>0&&o.sessions.map(s=>{var l={id:0,name:"",status:1,photo:"",slug:"",description:"",action:{}};s.id&&(l.id=Number(s.id)),s.name&&(l.name=String(s.name)),s.photo&&(l.photo=String(s.photo)),s.lock?l.lock=Number(s.lock):l.lock=0,s.slug&&(l.slug=String(s.slug)),s.description&&(l.description=String(s.description)),l.action={course_id:t.id,course_slug:t.slug,session_id:l.id,session_slug:l.slug},t.sessions.push(l)}),t.sessions=t.sessions.sort((s,l)=>{var _=s.name.match(/^Tiết (\d+)/);_?_=_[1]:_=0;var u=l.name.match(/^Tiết (\d+)/);return u?u=u[1]:u=0,_-u}),r.value.push(t)}),r.value[0]&&(h.value=r.value[0].id))):e.msg?C(String(e.msg)):C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra"),v.value=!1}).catch(e=>{v.value=!1,C("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(e)}),(e,o)=>{const t=c("el-input"),s=c("el-button"),l=c("el-space"),_=c("el-empty"),u=c("el-card"),L=c("router-link"),B=c("el-col"),F=c("el-row");return a(),m(j,null,{default:i(()=>[g(F,{class:"mt-4",style:{position:"relative"}},{default:i(()=>[g(B,{span:24},{default:i(()=>[g(u,null,{default:i(()=>[z,!v.value&&r.value.length>0?(a(),m(t,{key:0,modelValue:y.value,"onUpdate:modelValue":o[0]||(o[0]=n=>y.value=n),class:"mt-2",placeholder:"T\xECm ki\u1EBFm b\xE0i h\u1ECDc"},null,8,["modelValue"])):A("",!0),v.value?(a(),d("div",G," \u0110ang ki\u1EC3m tra t\u01B0 v\u1EA5n ")):r.value.length<1?(a(),d("div",H," Ch\u01B0a c\xF3 b\xE0i t\u01B0 v\u1EA5n n\xE0o \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t cho b\u1EA1n ")):f(b).length>0?(a(),d(S,{key:3},[g(l,{class:"mt-2",wrap:""},{default:i(()=>[(a(!0),d(S,null,T(f(b),n=>(a(),m(s,{key:n.id,type:h.value===n.id?"warning":"",onClick:D=>h.value=n.id},{default:i(()=>[p("b",null,w(n.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),f(k).sessions.length>0?(a(),m(F,{key:0,gutter:20},{default:i(()=>[(a(!0),d(S,null,T(f(k).sessions,(n,D)=>(a(),m(B,{key:D,span:24,sm:12,md:8,lg:6,xl:4,style:{"margin-top":"20px"}},{default:i(()=>[g(L,{to:{name:"advise.view",params:{course_slug:f(k).slug,course_id:f(k).id,session_slug:n.slug,session_id:n.id}},custom:""},{default:i(({navigate:I})=>[g(u,{shadow:"always",style:{cursor:"pointer"},onClick:I},{default:i(()=>[p("div",null,[n.photo?(a(),d("img",{key:0,src:n.photo,class:"image"},null,8,M)):(a(),m(_,{key:1}))]),p("div",Q,[p("b",R,w(n.name),1)]),p("div",W,[p("p",X,w(n.description),1)])]),_:2},1032,["onClick"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):A("",!0)],64)):(a(),d("p",Y,"Kh\xF4ng c\xF3 ti\u1EBFt h\u1ECDc n\xE0o ph\xF9 h\u1EE3p"))]),_:1})]),_:1})]),_:1})]),_:1})}}});const se=P(Z,[["__scopeId","data-v-bda9305c"]]);export{se as default};
