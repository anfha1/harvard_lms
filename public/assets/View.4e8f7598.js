import{d as k,s as v,h as b,y as g,z as V,c as A,w as r,o as L,f as n,A as c,k as F,B as C,e as l}from"./index.70e580bc.js";import{u as D,p as S}from"./rules.c1839e29.js";import{f as B,L as U,a,l as $,n as K,g as N}from"./Basic.d4d6bd44.js";const R=F("\u0110\u0103ng nh\u1EADp"),j=k({__name:"View",setup(T){const w=B(),{login:p}=v(w),f=C(),u=b(),s=g({username:"",password:""}),x=g({username:D,password:S});function m(e){!e||e.validate(o=>{if(o)E();else return a("\u0110\u0103ng nh\u1EADp kh\xF4ng th\xE0nh c\xF4ng!"),!1})}const d=()=>{p.value&&(window.history.length>2?f.back():f.push({name:"home"}))};V(p,d),d();const E=()=>{$(s.username,s.password).then(({data:e})=>{e.status&&Number(e.status)?(e.msg&&K(String(e.msg)),N()):e.msg?a(String(e.msg)):a("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra")}).catch(e=>{a("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra!"),console.log(e)})};return(e,o)=>{const _=l("el-input"),i=l("el-form-item"),y=l("el-button"),h=l("el-form");return L(),A(U,null,{default:r(()=>[n(h,{ref_key:"formRefLogin",ref:u,"label-width":"auto","label-position":"top",model:s,rules:x},{default:r(()=>[n(i,{label:"T\xE0i kho\u1EA3n",prop:"username"},{default:r(()=>[n(_,{modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=t=>s.username=t),onKeyup:o[1]||(o[1]=c(t=>m(u.value),["enter"]))},null,8,["modelValue"])]),_:1}),n(i,{label:"M\u1EADt kh\u1EA9u",prop:"password"},{default:r(()=>[n(_,{modelValue:s.password,"onUpdate:modelValue":o[2]||(o[2]=t=>s.password=t),type:"password",autocomplete:"off",onKeyup:o[3]||(o[3]=c(t=>m(u.value),["enter"]))},null,8,["modelValue"])]),_:1}),n(i,null,{default:r(()=>[n(y,{type:"primary",onClick:o[4]||(o[4]=t=>m(u.value))},{default:r(()=>[R]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});export{j as default};
